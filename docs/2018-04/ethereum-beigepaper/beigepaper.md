# Ethereum Beigepaper

Beigepaper: An Ethereum Technical Specification
https://github.com/chronaeon/beigepaper

## 概要

Ethereum のプロトコルは決定論的であるが、ふたつの基本的な機能を持つ実用的に無制限なステートマシンでもある。ひとつには、どこからでもアクセスできるシングルトンステートであり、もうひとつには、そのステートに変更を適用できる仮想マシンである。

## 1. コンピュータとしての Bitcoin を想像する

Ethereum は、Bitcoin に端を発する分散台帳モデルを仮想コンピュータを形成するために別の方法で活用し、マシンレベルの opcode に Bitcoin のトランザクションと同レベルの確実性を与える。Bitcoin の台帳が正確で、また Bitcoin のコンセンサス機構によってタイムスタンプも正しく記録されるのと同様に、Ethereum 上で開始された機械命令が動作することも確実である。

言い換えれば、Ethereum の Blockchain 上で実行されるプログラムは基本的に止まらない。これは Ethereum のプログラムがバグを有しないことを意味しない。Ethereum のプログラムは外部の非ネットワーク的な力の影響を受けることなく実行されることが保証される、という意味だ。この特性は暗号法的証明の上に構築された Blockchain 固有のセキュリティにもたらされる。

### 1.1. ネイティブ通貨

Ethereum は主に通貨アプリケーションではなく、すべてのアプリケーションで使用されるため、過剰な計算経費でネットワークを乱用する可能性を軽減するために用いられる基本的なネットワークコスト単位がある。これは gas と呼ばれ、§3 で詳しく説明されます。gas は ether でのみ支払われる。Ethereum で使われる通貨の最小単位は Wei であり、これは 1 ether の 10^-18 に等しい。Ethereum のすべての通貨トランザクションは、マシンレベルでは Wei で計上される。他には 10^-6 の Szabo や 10^-3 の Finney もある。

Ethereum のネットワークは、Ethereum 本来の通貨である ether という一点でのみ、他に従属しています。システムができるすべてのものは、gas と引き換えに ether を消費する能力に縛られています。これは、特定の量のシステム性能をいくつかの望ましい方向に購入します。

## 2. メモリとストレージ

### 2.1. 世界ステート

世界ステートはブロックに分割される。それぞれのブロックは新しい世界ステートを表す。世界ステートの構造は RLP (recursive length prefix) を用いた「アドレス」と「アカウントの状態」のマッピングとなる。情報は、バイト列をバイト列にマッピングするマークルパトリシア木に保存される。全体として、ステートはステートデータベース内の関係の総和である。

### 2.1.1. マークル・パトリシア木

マークル・パトリシア木は、ノードがハッシュ全体を表す各ノードではなく、ハッシュからの個々の文字を表すように変更されたマークル木である。これにより、ステートのデータ構造自体が、データ内の本質的に正しいパスだけでなく、最初にデータの一部が有効であることを確認するために必要な暗号的証明を表現することができる。言い換えれば、標準的なマークル木の構造を基数木と組み合わせることによって、ブロックチェーンを有効に保つ。Ethereum のすべての検索アルゴリズムとソートアルゴリズムは、厳密に正しいデータベースでフィルタリングされなければならないため、情報の正確性が保証される。

以下は、16 進数の「a」と「4」から始まる検索木である。
